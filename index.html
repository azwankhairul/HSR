<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>HSR</title>

    

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Materials CSS -->
    <link href="css/material.css" rel="stylesheet">
    <link href="css/ripples.css" rel="stylesheet">


    <!-- Custom CSS -->
    <link href="css/agency.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>

    <!-- My CSS -->
    <link href="css/myCSS.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!--  to parsing JSON -->      
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>

</head>

<body id="page-top" class="index">

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <!--<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>-->
                <a class="navbar-brand page-scroll" href="#page-top"><b>Hotels system recommendation</b></a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#services">Search Hotels</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#about">About</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#team">Team</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#contact">Contact</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>

    <!-- Header -->
    <header>
        <div class="container">
            <div class="intro-text">
                <div class="intro-lead-in"> </div>
                <div class="intro-heading">Just do it!</div>
                <a href="#services" class="page-scroll btn btn-xl">Begin</a>
            </div>
        </div>
    </header>

    <!-- Services Section -->
    <section id="services">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2 class="section-heading">Search Hotels</h2>
                    <h3 class="section-subheading text-muted">Find the Best Hotels in the city you choose.</h3>
                </div>

                <!-- total form -->
                <div class="col-md-12">
                    <!--<div class="panel">-->
                    <form class="form-horizontal" action="fin.html">
                        <!-- Datos -->
                        <div class="panel panel-default" id="datos">
                            <div class="panel-heading">
                                <h3 class="panel-title">Advanced Search Hotels</h3>
                            </div>
                            <div class="panel-body">
                                <fieldset>
                                    <!--<legend>Búsqueda avanzada de hoteles</legend>-->
                                    <div class="form-group col-md-12">
                                        <label for="nif" class="col-md-4 control-label">Nombre de Hotel: </label>
                                        <div class="col-md-6">
                                            <input type="text" class="form-control" id="pac-input" placeholder="nombre hotel" required>
                                        </div>
                                        <!-- choose the city -->
                                        <div class="btn-group" role="group">
                                            <button type="button" class="btn btn-xl page-scroll btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false" id="city">
                                                   City     
                                              <span class="caret"></span>
                                            </button>
                                            <ul class="dropdown-menu" role="menu">
                                              <li><a onclick="searchCity('Alicante')">Alicante</a></li>
                                              <li><a onclick="searchCity('Barcelona')">Barcelona</a></li>
                                              <li><a onclick="searchCity('Bilbao')">Bilbao</a></li>
                                              <li><a onclick="searchCity('Burgos')">Burgos</a></li>
                                              <li><a onclick="searchCity('Canarias')">Canarias</a></li>
                                              <li><a onclick="searchCity('Donostia - San Sebastián')">Donostia - San Sebastián</a></li>
                                              <li><a onclick="searchCity('Girona')">Girona</a></li>
                                              <li><a onclick="searchCity('Granada')">Granada</a></li>
                                              <li><a onclick="searchCity('Islas Baleares')">Islas Baleares</a></li>
                                              <li><a onclick="searchCity('Madrid')">Madrid</a></li>
                                              <li><a onclick="searchCity('Salamanca')">Salamanca</a></li>
                                              <li><a onclick="searchCity('Santiago de Compostela')">Santiago de Compostela</a></li>
                                              <li><a onclick="searchCity('Sevilla')">Sevilla</a></li>
                                              <li><a onclick="searchCity('Toledo')">Toledo</a></li>
                                              <li><a onclick="searchCity('Valencia')">Valencia</a></li>
                                              <li><a onclick="searchCity('Zaragoza')">Zaragoza</a></li>
                                            </ul>
                                        </div>                                      
                                    </div>
                                    <div class="form-group col-md-12 map">
                                         <!-- <label for="nac" class="col-md-2 control-label">Mapa</label> -->
                                        <div class="col-md-12 map">
                                            <div id="map_canvas" class="google-maps">
                                                <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d7098.94326104394!2d78.0430654485247!3d27.172909818538997!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2s!4v1385710909804" width="50" height="50" frameborder="0" style="border:0"></iframe>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                          <!--  <input id="ex4" type="text" data-slider-min="100" data-slider-max="500" data-slider-step="1" data-slider-value="-3" data-slider-orientation="vertical"/> -->
                                          <br>
                                        </div> 

                                    </div>
                                    
                                    <div class="col-md-12 map">
                                          
                                    </div>
                                    <div class="form-group">

                                        <div class="col-md-12 nearlyH" id="show_latlng">
                                            <!-- search nearly hotels button -->
                                            <input class="btn btn-xl" type="button" id="driver" value="Nearly Hotels" />
                                        </div>
                                        <div class="row text-center">
                                            <div class="col-md-6">
                                               <!-- <span class="fa-stack fa-4x">
                                                    <i class="fa fa-circle fa-stack-2x text-primary"></i>
                                                    <i class="fa fa-line-chart fa-stack-1x fa-inverse"></i>
                                                </span> -->
                                                <h2 class="service-heading">Statistical search</h2>
                                                <p class="text-muted">Uses the Bayes Theorem.</p>
                                                <div class="col-lg-12 text-center">
                                                    
                                                    <button type="button" class="btn btn-xl page-scroll" id="bayes"><span class="fa-stack fa-2x">
                                                    <i class="fa fa-circle fa-stack-2x text-primary"></i>
                                                    <i class="fa fa-line-chart fa-stack-1x fa-inverse"></i>
                                                </span>Search</button>
                                                    <div id="successB">
                                                      
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                               <!-- <span class="fa-stack fa-4x">
                                                    <i class="fa fa-circle fa-stack-2x text-primary"></i>
                                                    <i class="fa fa-users fa-stack-1x fa-inverse"></i>
                                                </span> -->
                                                <h2 class="service-heading">Recommender search</h2>
                                                <p class="text-muted">Uses Regular Expresions.</p>
                                                <div class="col-lg-12 text-center">
                                                    
                                                    <button type="button" class="btn btn-xl page-scroll" id="expR"><span class="fa-stack fa-2x">
                                                    <i class="fa fa-circle fa-stack-2x text-primary"></i>
                                                    <i class="fa fa-users fa-stack-1x fa-inverse"></i>
                                                </span>Search</button>
                                                    <div id="successER0">
                                                      
                                                    </div>
                                                    <div id="successER1">
                                                      
                                                    </div>
                                                    <div id="successER2">
                                                      
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--<legend>Búsqueda avanzada de hoteles</legend>-->
                                    <!-- RESULTADOS DE LA BUSQUEDA DEPENDIENDO EL TIPO
                                    <div class="form-group">
                                        <div class="panel panel-default" id="resultados">
                                        </div>
                                    </div> -->
                                </fieldset>
                            </div>
                        </div> <!-- end panel datos -->
                    </form> <!-- end total form -->
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2 class="section-heading">About</h2>
                    <h3 class="section-subheading text-muted">Thesis in Grade of Informatic.</h3>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <ul class="timeline">
                        <li>
                            <div class="timeline-image">
                                <img class="img-circle img-responsive" src="img/about/about1.gif" alt="">
                            </div>
                            <div class="timeline-panel">
                                <div class="timeline-heading">
                                    <h4>2014-2015</h4>
                                    <h4 class="subheading">Our Project</h4>
                                </div>
                                <div class="timeline-body">
                                    <p class="text-muted">We reflect on web is a hard work of research and development  representing our work EOG, Hotel System Recommendation (HSR) is a hotel recommendation system that can be used anywhere in the world, is an advanced search for hotels on the one hand can be statistical and otherwise handle regular expressions, getting the best results when proposals to find a hotel in the city you want.</p>
                                </div>
                            </div>
                        </li>
                        <li class="timeline-inverted">
                            <div class="timeline-image">
                                <img class="img-circle img-responsive" src="img/about/about2.png" alt="">
                            </div>
                            <div class="timeline-panel">
                                <div class="timeline-heading">
                                    <h4>June 2015</h4>
                                    <h4 class="subheading">EOG</h4>
                                </div>
                                <div class="timeline-body">
                                    <p class="text-muted">Project generated from the classrooms of the Faculty of Informatics   the Complutense University of Madrid for the Degree of Computer Science.</p>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Team Section -->
    <section id="team" class="bg-light-gray">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2 class="section-heading">Our team</h2>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-4">
                    <div class="team-member">
                        <img src="img/team/yofdi.png" class="img-responsive img-circle" alt="">
                        <h4>Roberto Yánez</h4>
                        <p class="text-muted">Developer</p>
                        <ul class="list-inline social-buttons">
                            <li><a href="#"><i class="fa fa-twitter"></i></a>
                            </li>
                            <li><a href="#"><i class="fa fa-facebook"></i></a>
                            </li>
                            <li><a href="#"><i class="fa fa-linkedin"></i></a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="team-member">
                        <img src="img/team/2.jpg" class="img-responsive img-circle" alt="">
                        <h4>Eddy Cerpa</h4>
                        <p class="text-muted">Developer</p>
                        <ul class="list-inline social-buttons">
                            <li><a href="#"><i class="fa fa-twitter"></i></a>
                            </li>
                            <li><a href="#"><i class="fa fa-facebook"></i></a>
                            </li>
                            <li><a href="#"><i class="fa fa-linkedin"></i></a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="team-member">
                        <img src="img/team/2.jpg" class="img-responsive img-circle" alt="">
                        <h4>Juan Antonio</h4>
                        <p class="text-muted">Tutor - Director</p>
                        <ul class="list-inline social-buttons">
                            <li><a href="#"><i class="fa fa-twitter"></i></a>
                            </li>
                            <li><a href="#"><i class="fa fa-facebook"></i></a>
                            </li>
                            <li><a href="#"><i class="fa fa-linkedin"></i></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 text-center">
                    <p class="large text-muted">Working Group on the project of hotel recommender for the EOG.</p>
                </div>
            </div>
        </div>
    </section>
    <section id="contact">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2 class="section-heading">Contact us</h2>
                    <h3 class="section-subheading text-muted tm">We are grateful for your attention and your observations.</h3>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <form name="sentMessage" id="contactForm" novalidate>
                        <div class="row">
                            <div class="col-md-6" id="formLeft">
                                <div class="form-group">
                                    <input type="text" class="form-control" placeholder="Your Name *" id="name" required data-validation-required-message="Please enter your name.">
                                    <p class="help-block text-danger"></p>
                                </div>
                                <div class="form-group">
                                    <input type="email" class="form-control" placeholder="Your Email *" id="email" required data-validation-required-message="Please enter your email address.">
                                    <p class="help-block text-danger"></p>
                                </div>
                                <div class="form-group">
                                    <input type="tel" class="form-control" placeholder="Your Phone *" id="phone" required data-validation-required-message="Please enter your phone number.">
                                    <p class="help-block text-danger"></p>
                                </div>
                            </div>
                            <div class="col-md-6" >
                                <div class="form-group">
                                    <textarea class="form-control ta" placeholder="Your Message *" id="message" required data-validation-required-message="Please enter a message."></textarea>
                                    <p class="help-block text-danger"></p>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <div class="col-lg-12 text-center">
                                <div id="success"></div>
                                <button type="submit" class="btn btn-xl">Send</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <span class="copyright">Copyright &copy; HSR 2015</span>
                </div>
                <div class="col-md-4">
                    
                </div>
                <div class="col-md-4">
                    
                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script src="js/classie.js"></script>
    <script src="js/cbpAnimatedHeader.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="js/agency.js"></script>
    
    <!--  google maps  https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true&libraries=places 
    <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?libraries=places&sensor=true"></script>-->
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true&libraries=places"></script>

    <script>
      var map;
      var geocoder;
      var clickLat = 40.41349604970198;
      var clickLng = -3.7051391601562;
     
        function initialize() {
          var latlng = new google.maps.LatLng(clickLat,clickLng);
          var myOptions = {
            zoom: 15,
            center: latlng,
            mapTypeId: google.maps.MapTypeId.ROADMAP
          };
          map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
          geocoder = new google.maps.Geocoder();

          // call place autocompleted method
          placeAutocompleted();
          
          google.maps.event.addListener(map, 'click', function(event) {
            
            // call a creator marker method
            placeMarker(event.latLng);

            clickLat = event.latLng.lat();
            clickLng = event.latLng.lng();

            // call getNearlyHotels method
           // getNearlyHotels(clickLat, clickLng);

          });
        }
        // --------------------------------------------------------------------------*
        // ------------------------------------- show nearly hoteles parsing the JSON

        //function getNearlyHotels(lat, lng){
            $(document).ready(function() {
              $("#driver").click(function(event){
                  $.getJSON(getLatLngURL(clickLat,clickLng), function(jd) {
                    for (var item in jd) { 
                      var myLatlng = new google.maps.LatLng(jd[item].latitude,jd[item].longitude);
                      // call to create markers method
                      createMarker(myLatlng, jd[item].name);
                    };map.setZoom(15);
                  });
              });
           });
        //}

        // ------------------------------------------------ place autocompleted
        function placeAutocompleted(){
          var input = /** @type {HTMLInputElement} */(
              document.getElementById('pac-input'));
                
          var autocomplete = new google.maps.places.Autocomplete(input);

          autocomplete.bindTo('bounds', map);

          var infowindowA = new google.maps.InfoWindow();
          var marker = new google.maps.Marker({
            map: map,
            anchorPoint: new google.maps.Point(0, -29)
          });

          google.maps.event.addListener(autocomplete, 'place_changed', function() {
            infowindowA.close();
            marker.setVisible(false);
            var place = autocomplete.getPlace();
            if (!place.geometry) {
              return;
            }

            // If the place has a geometry, then present it on a map.
            if (place.geometry.viewport) {
              map.fitBounds(place.geometry.viewport);
            } else {
              map.setCenter(place.geometry.location);
              map.setZoom(17);  // Why 17? Because it looks good.
            }
            marker.setIcon(/** @type {google.maps.Icon} */({
              url: place.icon,
              size: new google.maps.Size(71, 71),
              origin: new google.maps.Point(0, 0),
              anchor: new google.maps.Point(17, 34),
              scaledSize: new google.maps.Size(35, 35)
            }));
            marker.setPosition(place.geometry.location);
            marker.setVisible(true);

            infowindowA.setContent('<div><strong>' + place.name + '</strong><br>');
            infowindowA.open(map, marker);
          });
        }

        // ------------------------------------ search city
        function searchCity(city){
          var infowindowC = new google.maps.InfoWindow();
          var pyrmont = 0;
          var shieldCity = 0;
          switch(city) {
            case "Madrid":{
                pyrmont = new google.maps.LatLng(40.416775400000000000, -3.703790199999957600);
                shieldCity = '/img/madrid.png';
                break;}
            case "Toledo":{
                pyrmont = new google.maps.LatLng(39.862831600000000000, -4.027323099999990000);
                shieldCity = '/img/toledo.png';
                break;}
            case "Salamanca":{
                pyrmont = new google.maps.LatLng(40.970103900000000000, -5.663539700000001000);
                shieldCity = '/img/salamanca.png';
                break;}
            case "Burgos":{
                pyrmont = new google.maps.LatLng(42.343992500000000000, -3.696906000000012700);
                shieldCity = '/img/burgos.png';
                break;}
            case "Bilbao":{
                pyrmont = new google.maps.LatLng(43.263012600000000000, -2.934985200000028300);
                shieldCity = '/img/bilbao.png';
                break;}
            case "Granada":{
                pyrmont = new google.maps.LatLng(37.177336300000000000, -3.598557099999993600);
                shieldCity = '/img/granada.png';
                break;}
            case "Zaragoza":{
                pyrmont = new google.maps.LatLng(41.648822600000000000 , -0.889085300000033400);
                shieldCity = '/img/zaragoza.png';
                break;}
            case "Alicante":{
                pyrmont = new google.maps.LatLng(38.345996300000000000, -0.490685500000040500);
                shieldCity = '/img/alicante.png';
                break;}
            case "Islas Baleares":{
                pyrmont = new google.maps.LatLng(39.534178900000000000, -2.857710499999939000);
                shieldCity = '/img/baleares.png';
                break;}
            case "Sevilla":{
                pyrmont = new google.maps.LatLng(37.389092400000000000, -5.984458899999936000);
                shieldCity = '/img/sevilla.png';
                break;}
            case "Donostia - San Sebastián":{
                pyrmont = new google.maps.LatLng(43.318334000000000000, -1.981231299999990400);
                shieldCity = '/img/sanSebastian.png';
                break;}
            case "Santiago de Compostela":{
                pyrmont = new google.maps.LatLng(42.878213200000000000, -8.544844499999954000);
                shieldCity = '/img/sanCompostela.png';
                break;}
            case "Barcelona":{
                pyrmont = new google.maps.LatLng(41.385063900000000000, -2.173403499999949400);
                shieldCity = '/img/barcelona.png';
                break;}
            case "Girona":{
                pyrmont = new google.maps.LatLng(41.394820400000000000, -2.171103600000037700);
                shieldCity = '/img/girona.png';
                break;}
            case "Valencia":{
                pyrmont = new google.maps.LatLng(39.469907500000000000, -0.376288100000010700);
                shieldCity = '/img/valencia.png';
                break;}
            case "Canarias":{
                pyrmont = new google.maps.LatLng(28.291563700000000000, -16.629130400000008000);
                shieldCity = '/img/canarias.png';
                break;}
            default:{
                alert("default");
                pyrmont = new google.maps.LatLng(40.416775400000000000, -3.703790199999957600);
                shieldCity = '/img/madrid.png';}
          }

          var info = '<div id="sm">'+
                        '<h3>'+city+'</h3>'+
                        '<div id="ssm">' +
                            '<p><a href="http://es.wikipedia.org/wiki/'+city+'">'+
                                '<img src="'+shieldCity+'" alt="shield city" height="42" width="42"></a></p>'+
                        '</div>'+
                    '</div>';

          var marker = new google.maps.Marker({
            map: map,
            position: pyrmont,
            content: info
          });

          google.maps.event.addListener(marker, 'click', function() {
            infowindowC.setContent(info);
            infowindowC.open(map, this);
          });

          map.setCenter(pyrmont);
          map.setZoom(12);
        }
        // -----------------------------------------------------------------------


        // ------------------------------------ show latlng on the map with a click
        function placeMarker(location) {
        var pin = 'img/png/pin87.png';
          var marker = new google.maps.Marker({
            position: location,
            map: map,
            icon: pin,
          });

          map.setCenter(location);
          var infowindow = new google.maps.InfoWindow({
            content: 'Latitude: ' + location.lat() + '<br>Longitude: ' + location.lng()
          });
          // call to listeners events to the map
          // setupEvents();

          // call to write lat and lng method
          //writeLatLng(location.lat(), location.lng());

          infowindow.open(map,marker);
        }

        // ------------------------------------------- create the map markers
        function createMarker(location, nameH) {
            var hpin = 'img/png/ubed.png';
            var marker = new google.maps.Marker({
              position: location,
              map: map,
              icon: hpin,
            });

            google.maps.event.addListener(marker, 'click', function() {
              var infowindowH = new google.maps.InfoWindow({
            content: nameH
          });
              infowindowH.open(map, this);
            });
          }

        // ------------------------------------setup the listeners events to the map  
        function setupEvents() {
            google.maps.event.addListener(map, 'zoom_changed', function() {
              map.getZoom();
            });
            // --------------------------------------change the center 
           // google.maps.event.addListener(map, 'center_changed', centerChanged);

           /* google.maps.event.addDomListener(document.getElementById('show_latlng'),'dblclick', function() {
               map.setZoom(map.getZoom() + 1);
            });*/
        }

        // -------------------------------------------write lat and lng
        function writeLatLng(lat, lng){
          document.getElementById('latitude').innerHTML = lat;
          document.getElementById('longitude').innerHTML = lng;
        }

        // -------------------------------------------return the new url with lat and lng onclick
        function getLatLngURL(lat, lng) {
            var url = 'http://mlh.fdi.ucm.es:8080/SystemRecommendations/SearchHotel?radio=500&lat='+lat+'&lon='+lng;            
            return url;
        
        }

        // -------------------------------------------return the new url with bayes data
        // 'http://mlh.fdi.ucm.es:8080/SystemRecommendations/Results?city=Madrid&hotel=Palace&termino=sucio'
        function getBayesURL(nameH) {
            var url = 'http://mlh.fdi.ucm.es:8080/SystemRecommendations/Results?city=Madrid&hotel='+nameH+'&termino=sucio';            
            return url;
        
        }

        // -------------------------------------------return the new url with bayes data
        // http://mlh.fdi.ucm.es:8080/SystemRecommendations/TermWebs?search=Hotel%20Madrid%20Palace&scan=8
        function getExpRegURL(nameH, scanNum) {
            var url = 'http://mlh.fdi.ucm.es:8080/SystemRecommendations/TermWebs?search=Hotel%20Madrid%20'+nameH+'&scan='+scanNum;            
            return url;
        
        }        

        google.maps.event.addDomListener(window, 'load', initialize);


        // ------------------------------------------ parsing JSON
        
           /* var json_text = '{"hotels":['+
              '{"name": "The Living Roof Hostel","latitude": 40.426183,"longitude": -3.705646},'+
              '{"name": "Sil","latitude": 40.427131,"longitude": -3.701717}]}';

            obj = JSON.parse(json_text); // convert to js object

            for (var i = 0; i < 2; i++) {
                document.getElementById("parser").innerHTML += obj.hotels[i].name + "  ";
                document.getElementById("jlat").innerHTML += obj.hotels[i].latitude + "  ";
                document.getElementById("jlng").innerHTML += obj.hotels[i].longitude + "  ";

            };*/

         // ------------------------------------- show bayes method result
            $(document).ready(function() {
              $("#bayes").click(function(event){
                if(document.getElementById('pac-input').value != ''){
                    $.getJSON(getBayesURL(document.getElementById('pac-input').value), function(jd) {
                    $('#successB').html('<li><b>total bayes:</b> ' + jd + '</li>');
                  });
                } 
              });
           });
        // -----------------------------------------------------------------------------------

        // ------------------------------------- show expReg method results
            $(document).ready(function() {
              $("#expR").click(function(event){
                if(document.getElementById('pac-input').value != ''){
                  $.getJSON(getExpRegURL(document.getElementById('pac-input').value, 13), function(jd) {
                    for (var item in jd) {
                      $('#successER'+item).html('<ul class="list-group"><li class= "list-group-item list-group-item-warning"><b>hotel:</b> ' + jd[item].url + '</li>');

                      $('#successER'+item).append('<li class= "list-group-item"><span class="badge">'+jd[item].positiveRegularExpresion+'</span><b>positiveRE:</b></li>');

                      $('#successER'+item).append('<li class= "list-group-item list-group-item-warning"><span class="badge">'+jd[item].negativeRegularExpresion+'</span><b>negativeRE:</b></li>');

                      $('#successER'+item).append('<li class= "list-group-item"><span class="badge">'+jd[item].positiveWord+'</span><b>positiveWord:</b></li>');

                      $('#successER'+item).append('<li class= "list-group-item list-group-item-warning"><span class="badge">'+ jd[item].negativeWord +'</span><b>negativeWord:</b></li>');

                      // positve words list
                      if(jd[item].positiveWord > 0){
                          for (var i = 0; i < jd[item].positiveWord; i++) {
                          $('#successER'+item).append('<li class= "list-group-item"><span class="badge">'+jd[item].positiveWord+'</span><b>positiveWordList:</b> <ul><li><b>type:</b>' + jd[item].PositiveWordList[i].type + '</li><li><b>value:</b>'+jd[item].PositiveWordList[i].value+'</li></ul>');
                        
                        };
                      }
                      else{
                        alert("Menor a cero");
                      }
                                            

                      $('#successER'+item).append('<li class= "list-group-item list-group-item-warning"><span class="badge">'+jd[item].negativeWord+'</span><b>negativeWordList:</b> <ul><li><b>type:</b>' + jd[item].negativeWord.type + '</li><li><b>value:</b>'+jd[item].PositiveWordList.value+'</li></ul>');


                      $('#successER'+item).append('<li class= "list-group-item"><span class="badge">'+jd[item].positiveRegularExpresion+'</span><b>positiveREList:</b> ' + jd[item].positiveRegularExpresionList.type + '</li>');

                      $('#successER'+item).append('<li class= "list-group-item list-group-item-warning"><span class="badge">'+jd[item].negativeRegularExpresion+'</span><b>negativeREList:</b> ' + jd[item].negativeRegularExpresionList.type + '</li></ul>');

                    };
                  });
                 }
               });
            });
        // -----------------------------------------------------------------------------------
        

    </script>

</body>

</html>
